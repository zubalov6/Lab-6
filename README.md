# Лаба 6 — Рефакторинг и code smells

## Найденные проблемы качества

В исходном коде были обнаружены следующие проблемы:

- Слишком длинная функция `process_checkout`
- Одна функция выполняла сразу несколько задач (валидация, расчёты, бизнес-логика)
- Использование магических чисел в коде
- Сложная логика скидок, ухудшающая читаемость
- Код плохо читался как последовательный сценарий

## Применённые рефакторинги

- Логика разбита на отдельные функции:
  - разбор запроса
  - валидация
  - подсчёт subtotal
  - расчёт скидки
  - расчёт налога
- Магические числа вынесены в именованные константы
- `process_checkout` упрощена и теперь читаетcя сверху вниз
- Поведение программы сохранено, все тесты проходят без изменений

## Результат

Код стал короче, чище и проще для чтения и модификации.  
Добавление новых типов скидок или изменение налогов теперь требует минимальных изменений.
